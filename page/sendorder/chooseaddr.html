<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<link href="../../css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="../../css/share_main.css" />
		<script src="../../js/mui.min.js"></script>
		<style>
			.mui-bar h1,
			.mui-bar a {
				color: #FFFFFF;
			}
			html,
			body,
			.mui-content,
			.hand-map {
				background-color: #FFFFFF;
				width: 100%;
			}
			.hand-map {
				position: absolute;
				top: 52px;
				padding: 5px;
			}
			.hand-detial {
				border: 1px solid #e3e3e3;
			}
			.clear {
				zoom: 1;
			}
			.clear:after {
				content: "";
				display: block;
				clear: both;
			}
			.wid15 {
				width: 15%;
			}
			.wid85 {
				width: 85%;
			}
			.sear .mui-input-clear,
			.smap .mui-input-clear {
				margin: 0;
				padding: 0;
				height: 39px;
				border: 0;
				width: 100%;
			}
			.hei60 {
				height: 40px;
			}
			.addbor {
				border-bottom: 1px solid #e3e3e3;
			}
			.linehei40 {
				line-height: 40px;
			}
			.icon {
				width: 52px;
				height: 52px;
			}
			.icon img {
				height: 40px;
				width: 40px;
				margin: 6px;
			}
			.pac-container{
				margin-left: -53px;
				margin-top: 5px;
			} 
		</style>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav nav_header">
			<img src="../../img/left.png" alt="" class="mui-action-back header_left_img" />
			<span>Trip plan</span>
		</header>
		<footer class="mui-bar mui-bar-footer">
			<div class="nav_footer bg_white">
				<button class="mui-btn left_button" id="ok">ok</button>
				<button class="mui-btn right_button" id='cancel'>cancel</button>
			</div>
		</footer>
		<div class="mui-content">
			<div class="hand-map">
				<div class="hand-detial">
					<!--<div class="clear sear">
						<div class="fl wid15 hei60 mui-text-center"><span class="mui-icon mui-icon-location linehei40"></span></div>
						<div class="fl wid85 hei60 addbor">
							<div class="mui-input-row">
								<input placeholder="choose address" class="mui-input-clear" type="text" id="chooseaddr">
							</div>
						</div>
					</div>-->
					<div class="clear smap">
						<div class="mui-pull-left wid15 hei60 mui-text-center"><span class="mui-icon mui-icon-search linehei40"></span></div>
						<div class="mui-pull-left wid85 hei60">
							<div class="mui-input-row">
								<input placeholder="detail address" class="mui-input-clear" id="pac-input" type="text">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript" src="../../js/utils.js"></script>
		<script id="google" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDbxX3v0OCgYabsgQcUjrQlF4rGhlL7-2Y&v=3.exp&language=zh-CN&signed_in=true&libraries=places"></script>
		<script type="text/javascript" charset="utf-8">
			mui.init();
			mui.plusReady(function() {
				var clocation = {};;
				var input = (document.getElementById('pac-input'));
				var autocomplete = new google.maps.places.Autocomplete(input);
				if (autocomplete) {
					alert(autocomplete)
					autocomplete.addListener('place_changed', function(e) {
						var place = autocomplete.getPlace();
						console.log(JSON.stringify(place.geometry))
						clocation.K = place.geometry.location.L;
						clocation.G = place.geometry.location.H;
					})
				}else{
					mui.toast('google map is not ready')
				} 
				document.getElementById('ok').addEventListener('tap', function() {
					var pad = plus.webview.getWebviewById('pickaddr');
					console.log(JSON.stringify(clocation));
					mui.fire(pad, 'getaddr', {
						"addr": document.getElementById('pac-input').value,
						'location': clocation
					});
					pad.show('slide-in-left', 300)
				})
				document.getElementById('cancel').addEventListener('tap',function(){
					mui.back();
				})
			})
		</script>
	</body>

</html>